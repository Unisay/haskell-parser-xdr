( [ Left
      (TypeDefEnum
         (Identifier "filekind")
         (( Identifier "TEXT" , Left (DecConstant 0) ) :|
            [ ( Identifier "DATA" , Left (DecConstant 1) )
            , ( Identifier "EXEC" , Left (DecConstant 2) )
            ]))
  , Left
      (TypeDefUnion
         (Identifier "filetype")
         UnionBody
           { unionDiscriminant = DiscriminantEnum (Identifier "kind")
           , unionArms =
               CaseSpec
                 { caseSpecValues = Right (IdentifierRef "TEXT") :| []
                 , caseSpecDeclaration = DeclarationVoid
                 } :|
                 [ CaseSpec
                     { caseSpecValues = Right (IdentifierRef "DATA") :| []
                     , caseSpecDeclaration =
                         DeclarationString
                           (Identifier "creator") (Just (Left (DecConstant 10)))
                     }
                 , CaseSpec
                     { caseSpecValues = Right (IdentifierRef "EXEC") :| []
                     , caseSpecDeclaration =
                         DeclarationString
                           (Identifier "interpretor") (Just (Left (DecConstant 42)))
                     }
                 ]
           , unionDefault =
               Just
                 (DeclarationSingle
                    (TypeIdentifier (IdentifierRef "foo")) (Identifier "bar"))
           })
  ]
, ParserState
    []
    (fromList [] :|
       [ fromList
           [ ( Identifier "bar"
             , ( SourcePos
                   { sourceName = "test/samples/union.xdr"
                   , sourceLine = Pos 21
                   , sourceColumn = Pos 6
                   }
               , TypeIdentifier (IdentifierRef "foo")
               )
             )
           , ( Identifier "filekind"
             , ( SourcePos
                   { sourceName = "test/samples/union.xdr"
                   , sourceLine = Pos 4
                   , sourceColumn = Pos 1
                   }
               , TypeEnum
                   (( Identifier "TEXT" , Left (DecConstant 0) ) :|
                      [ ( Identifier "DATA" , Left (DecConstant 1) )
                      , ( Identifier "EXEC" , Left (DecConstant 2) )
                      ])
               )
             )
           , ( Identifier "filetype"
             , ( SourcePos
                   { sourceName = "test/samples/union.xdr"
                   , sourceLine = Pos 13
                   , sourceColumn = Pos 1
                   }
               , TypeUnion
                   UnionBody
                     { unionDiscriminant = DiscriminantEnum (Identifier "kind")
                     , unionArms =
                         CaseSpec
                           { caseSpecValues = Right (IdentifierRef "TEXT") :| []
                           , caseSpecDeclaration = DeclarationVoid
                           } :|
                           [ CaseSpec
                               { caseSpecValues = Right (IdentifierRef "DATA") :| []
                               , caseSpecDeclaration =
                                   DeclarationString
                                     (Identifier "creator") (Just (Left (DecConstant 10)))
                               }
                           , CaseSpec
                               { caseSpecValues = Right (IdentifierRef "EXEC") :| []
                               , caseSpecDeclaration =
                                   DeclarationString
                                     (Identifier "interpretor") (Just (Left (DecConstant 42)))
                               }
                           ]
                     , unionDefault =
                         Just
                           (DeclarationSingle
                              (TypeIdentifier (IdentifierRef "foo")) (Identifier "bar"))
                     }
               )
             )
           ]
       ])
)